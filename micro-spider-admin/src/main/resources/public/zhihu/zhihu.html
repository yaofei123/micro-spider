<title>租户</title>
<link rel="stylesheet" href="assets/css/bootstrap-datetimepicker.min.css"/>
<!-- ajax layout which only needs content area -->
<div class="row">
    <div class="col-xs-12">
        <!-- PAGE CONTENT BEGINS -->

        <div class="row" style="">
            <div class="widget-box transparent collapsed widget-color-pink ui-sortable-handle">
                <div class="widget-header">
                    <button class="btn btn-sm btn-primary pull-left" id="btn-add" data-toggle="modal"
                            data-target="#model-add-modal">
                        <i class="ace-icon fa fa-plus-circle"></i>
                        添加
                    </button>
                    <button class="btn btn-sm btn-danger pull-left" id="btn-del">
                        <i class="ace-icon fa fa-times-circle"></i>
                        批量删除
                    </button>
                    <div class="col-sm-4">
                        <div class="input-group">
                            <input class="form-control" id="fuzzy-search" placeholder="问题查询" type="text">
                            <span class="input-group-btn">
								<button class="btn btn-sm btn-default" type="button" id="btn-simple-search">
                                    <i class="ace-icon fa fa-search bigger-110"></i>
                                    Go!
                                </button>
							</span>
                        </div>
                    </div>

                    <div class="widget-toolbar">
                        <a href="#" data-action="collapse">
                            <i class="1 ace-icon fa fa-chevron-down bigger-125">高级查询</i>
                        </a>
                    </div>
                </div>
                <div class="widget-body">
                    <div class="widget-main">
                        <form id="search-form">
                            <div class="col-sm-12">
                                <div class="col-sm-4">
                                    <label for="name-search">
                                        相关词
                                        <small class="text-success"></small>
                                    </label>
                                    <input type="text" class="form-control" placeholder="相关词" id="name-search">
                                </div>
                            </div>

                            <div class="col-sm-12 space-2"/>
                        </form>
                        <div class="col-sm-12">
                            <button type="button" class="btn btn-xs btn-default form-control" id="btn-advanced-search">
                                <i class="fa fa-search"></i>查询
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="space"></div>

        <div class="row">
            <div class="span12" id="div-table-container">
                <div class="table-header">
                    问题
                </div>
                <table class="table table-striped table-bordered table-hover table-condensed" id="table-model"
                       cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th>
                            <input type="checkbox" name="cb-check-all">
                        </th>
                        <th>问题</th>
                        <th>问题</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>

                </table>
            </div>
        </div>

        <!-- PAGE CONTENT ENDS -->
    </div><!-- /.col -->
</div><!-- /.row -->

<!--查看-->
<div id="model-view-modal" class="modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="blue bigger">等级定义详情</h4>
                <div class="modal-toolbar"/>
            </div>

            <div class="modal-body">
                <div id="form-view" class="form-horizontal" role="form">
                    <div class="form-group" hidden>
                        <label class="col-sm-3 control-label prop-name" for="id-view"><span
                                class="red">*</span>id:</label>
                        <label id="id-view" name="id-view" class="col-sm-9 prop-value"></label>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label prop-name" for="question-view"><span
                                class="red">*</span>问题:</label>
                        <label id="question-view" name="question-view" class="col-sm-9 prop-value"></label>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label prop-name" for="question-detail-view"><span
                                class="red">*</span>详情:</label>
                        <label id="question-detail-view" name="question-detail-view"
                               class="col-sm-9 prop-value"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="span12" id="div-table-container-answer">
                        <div class="table-header">
                            回答
                        </div>
                        <table class="table table-striped table-bordered table-hover table-condensed"
                               id="table-model-answer"
                               cellspacing="0" width="100%">
                            <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" name="cb-check-all">
                                </th>
                                <th>回答者</th>
                                <th>回答者</th>
                                <th>点赞</th>
                            </tr>
                            </thead>
                            <tbody id="aBody">
                            </tbody>

                        </table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button onclick="" class="btn btn-sm btn-cancel" data-dismiss="modal">
                    <i class="ace-icon fa fa-times"></i>
                    关闭
                </button>
            </div>
        </div>
    </div>
</div>
<!--新增-->
<div id="model-add-modal" class="modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="blue bigger">新增租户</h4>
                <div class="modal-toolbar"/>
            </div>
            <div class="modal-body">
                <form id="form-add" class="form-horizontal" role="form">
                    <div class="form-group">
                        <label class="col-sm-3 control-label" for="name-add"><span
                                class="red">*</span>租户姓名:</label>
                        <div class="col-sm-9 controls">
                            <input type="text" id="name-add" name="name-add" class="form-control">
                        </div>


                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label" for="sex-add"><span
                                class="red">*</span>性别:</label>
                        <div class="col-sm-9 controls">
                            <input type="text" id="sex-add" name="sex-add" class="form-control">
                        </div>


                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-sm btn-cancel" data-dismiss="modal">
                    <i class="ace-icon fa fa-times"></i>
                    取消
                </button>

                <button type="button" class="btn btn-sm btn-primary" id="btn-save-add">
                    <i class="ace-icon fa fa-check"></i>
                    提交
                </button>


                <!--<button class="btn btn-sm btn-primary">-->
                <!--<i class="ace-icon fa fa-check"></i>-->
                <!--提交-->
                <!--</button>-->
            </div>
        </div>
    </div>
</div>
<!--编辑-->
<div id="model-edit-modal" class="modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="blue bigger">修改租户</h4>
                <div class="modal-toolbar"/>
            </div>

            <div class="modal-body">
                <form id="form-edit" class="form-horizontal" role="form">
                    <input type="hidden" id="id-edit"/>
                    <div class="form-group">
                        <label class="col-sm-3 control-label" for="name-edit"><span
                                class="red">*</span>租户姓名:</label>
                        <div class="col-sm-9 controls">
                            <input type="text" id="name-edit" name="name-edit" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label" for="sex-edit"><span
                                class="red">*</span>性别:</label>
                        <div class="col-sm-9 controls">
                            <input type="text" id="sex-edit" name="sex-edit" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label" for="type-edit"><span
                                class="red">*</span>类别:</label>
                        <div class="col-sm-9 controls">
                            <input type="text" id="type-edit" name="type-edit" class="form-control">
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button class="btn btn-sm btn-cancel" data-dismiss="modal">
                    <i class="ace-icon fa fa-times"></i>
                    取消
                </button>

                <button type="button" class="btn btn-sm btn-primary" id="btn-save-edit">
                    <i class="ace-icon fa fa-check"></i>
                    提交
                </button>


                <!--<button class="btn btn-sm btn-primary">-->
                <!--<i class="ace-icon fa fa-check"></i>-->
                <!--提交-->
                <!--</button>-->
            </div>
        </div>
    </div>
</div>
<!-- page specific plugin scripts -->
<script type="text/javascript">
    var scripts = [null, "assets/js/jquery.dataTables.min.js", "assets/js/jquery.dataTables.bootstrap.js", "assets/js/constant.js"
        , "assets/js/jquery.spin.merge.js"
        , "assets/js/date-time/bootstrap-datetimepicker.min.js"
        , "assets/js/date-time/bootstrap-datetimepicker.zh-CN.js"
        , "assets/js/date-time/moment.min.js"
        , "assets/js/select2.full.min.js"
        , "assets/js/selectUtil.js"
        , null];

    var url_list = '/zhihu/listQ';
    var url_list_a = '/zhihu/listA';
    var url_rest = '/zhihu/listQ';
    var modelManage = {};
    ace.load_ajax_scripts(scripts, function () {

        modelManage = {
            currentItem: null,
            simpleSearch: true,
            getQueryCondition: function (data) {
                var param = {};
                var condition = {};

                //组装查询参数

                if (modelManage.simpleSearch) {
                    $("#search-form")[0].reset();
                    condition.question = $("#fuzzy-search").val();

                } else {
                    $("#fuzzy-search").val(null);
                    condition.questionDetail = $("#name-search").val();
                }
                //组装分页参数
                param.startIndex = data.start;
                param.limit = data.length;
                param.page = data.start / data.length+1;

                param.draw = data.draw;
                param.searchCondition = condition;

                return param;
            },

            showItemDetail: function (item) {
                if (!item) {
                    //$("#model-view .prop-value").text("");
                    return;
                }
                $("#question-view").text(item.question);
                $("#question-detail-view").text(item.questionDetail);
                console.log(item.answer);
            },
            addItemInit: function () {
                $("#form-add")[0].reset();
            },
            editItemInit: function (item) {
                if (!item) {
                    return;
                }

                $("#form-edit")[0].reset();
                $("#id-edit").val(item.id);

                $("#name-edit").val(item.name);
                $("#sex-edit").val(item.sex);
                $("#type-edit").val(item.type);

                $("#model-edit").show().siblings(".info-block").hide();
            },
            addItemSubmit: function (_table) {

                var param = {};

                param.name = $("#name-add").val();
                param.sex = $("#sex-add").val();
                param.type = $("#type-add").val();

                var jsonObjectInfo = JSON.stringify(param);

                //				var jsonmodelinfo = $.toJSON($('#form').serializeObject());
                $.ajax({
                    type: "POST",
                    url: url_rest,
                    async: false,
                    cache: false,	//禁用缓存
                    data: jsonObjectInfo,	//传入已封装的参数
                    dataType: "json",
                    contentType: "application/json;charset=UTF-8",
                    success: function (result) {

                        //异常判断与处理
                        if (result.errorCode) {
                            $.dialog.alert("添加失败。错误码：" + result.errorCode);
                            return;
                        }
                        $.dialog.tips('添加租户成功');
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        $.dialog.alert("添加失败");

                    }
                });
            },
            editItemSubmit: function () {

                var param = {};
                param.id = $("#id-edit").val();

                param.name = $("#name-edit").val();
                param.sex = $("#sex-edit").val();
                param.type = $("#type-edit").val();

                var jsonObjectInfo = JSON.stringify(param)
                //var jsonmodelinfo = $.toJSON($('#form').serializeObject());
                $.ajax({
                    type: "PUT",
                    url: url_rest + "/" + param.id,
                    async: false,
                    cache: false,	//禁用缓存
                    data: jsonObjectInfo,	//传入已封装的参数
                    dataType: "json",
                    contentType: "application/json;charset=UTF-8",
                    success: function (result) {

                        //异常判断与处理
                        if (result.errorCode) {
                            $.dialog.alert("修改失败。错误码：" + result.errorCode);
                            return;
                        }
                        $.dialog.tips('修改租户成功');


                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        $.dialog.alert("修改失败");

                    }
                });
            },
            deleteItem: function (selectedItemsId) {
                $.ajax({
                    type: "DELETE",
                    url: url_rest + "/" + selectedItemsId,
                    async: false,
                    cache: false,	//禁用缓存
                    contentType: "application/json;charset=UTF-8",
                    success: function (result) {
                        //异常判断与处理
                        if (result.errorCode) {
                            $.dialog.alert("删除失败。错误码：" + result.errorCode);
                            return;
                        }
                        $.dialog.tips('删除租户成功');

                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        $.dialog.alert("删除失败");

                    }
                });
            }
        };
        //inline scripts related to this page
        jQuery(function ($) {
            var $wrapper = $('#div-table-container');
            var $table = $('#table-model');

            var _table = $table.dataTable($.extend(true, {}, CONSTANT.DATA_TABLES.DEFAULT_OPTION, {
                "dom": 'rt<"space-4"><"row"<"col-xs-6"i><"col-xs-6"p>><"clear">',
                "lengthChange": false,//不显示每页xxx项选择框
                ajax: function (data, callback, settings) {//ajax配置为function,手动调用异步查询
                    //手动控制遮罩
                    $wrapper.spinModal();

                    //封装请求参数
                    var param = modelManage.getQueryCondition(data);

                    $.ajax({
                        type: "POST",
                        url: url_list,
                        cache: false,	//禁用缓存
                        data: JSON.stringify(param),	//传入已封装的参数
                        dataType: "json",
                        beforeSend: function (request) {
                            request.setRequestHeader("Content-Type", "application/json");
                        },
                        success: function (result) {
                            //setTimeout仅为测试遮罩效果
                            setTimeout(function () {
                                //异常判断与处理
                                if (result.errorCode) {
                                    $.dialog.alert("查询失败。错误码：" + result.errorCode);
                                    return;
                                }

                                //封装返回数据，这里仅演示了修改属性名
                                var returnData = {};
                                returnData.draw = data.draw;//这里直接自行返回了draw计数器,应该由后台返回
                                returnData.recordsTotal = result.totalElements;
                                returnData.recordsFiltered = result.totalElements;//后台不实现过滤功能，每次查询均视作全部结果
                                returnData.data = result.content;
                                //关闭遮罩
                                $wrapper.spinModal(false);
                                //调用DataTables提供的callback方法，代表数据已封装完成并传回DataTables进行渲染
                                //此时的数据需确保正确无误，异常判断应在执行此回调前自行处理完毕
                                callback(returnData);
                            }, 200);
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            $.dialog.alert("查询失败");
                            $wrapper.spinModal(false);
                        }
                    });
                },
                columns: [
                    CONSTANT.DATA_TABLES.COLUMN.CHECKBOX
                    , {
                        className: "ellipsis",	//文字过长时用省略号显示，CSS实现
                        data: "id",
                        "visible": false,
                        orderable: false,
                        render: CONSTANT.DATA_TABLES.RENDER.ELLIPSIS//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
                        //,width : "80px"
                        //,render : function(data,type, row, meta) {return '<i class="fa fa-male"></i> '+(data?"启用":"禁用");}
                    }, {
                        className: "ellipsis",	//文字过长时用省略号显示，CSS实现
                        data: "question",
                        "visible": true,
                        orderable: false,
                        render: CONSTANT.DATA_TABLES.RENDER.ELLIPSIS//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
                        //,width : "80px"
                        //,render : function(data,type, row, meta) {return '<i class="fa fa-male"></i> '+(data?"启用":"禁用");}
                    }
                    , {
                        className: "td-operation",
                        data: null,
                        defaultContent: "",
                        orderable: false,
                        width: "200px",
                        render: function (data, type, row, meta) {
                            return '<button type="button" class="btn btn-xs btn-primary btn-view" data-toggle="modal" data-target="#model-view-modal"><i class="ace-icon fa fa-search-plus"></i>查看</button>';
                        }
                    }
                ],
                "createdRow": function (row, data, index) {
                    //行渲染回调,在这里可以对该行dom元素进行任何操作

                    //给当前行加样式
                    if (data.role) {
                        $(row).addClass("info");
                    }

                    //给当前行某列加样式
                    $('td', row).eq(5).addClass(data.usable ? "text-success" : "text-error");

                },
                "drawCallback": function (settings) {
                    //渲染完毕后的回调
                    //清空全选状态
                    $(":checkbox[name='cb-check-all']", $wrapper).prop('checked', false);
                    //默认选中第一行
                    $("tbody tr", $table).eq(0).click();
                }
            })).api();//此处需调用api()方法,否则返回的是JQuery对象而不是DataTables的API对象

            $("#btn-add").click(function () {
                modelManage.addItemInit();
            });

            $("#btn-del").click(function () {

                var arrItemId = [];
                $("tbody :checkbox:checked", $table).each(function (i) {
                    var item = _table.row($(this).closest('tr')).data();
                    arrItemId.push(item.id);
                });

                if (arrItemId && arrItemId.length) {


                    var message = "确定删除 " + arrItemId.length + " 项数据么?";

                    $.dialog.confirmDanger(message, function () {

                        //打开遮罩
                        $wrapper.spinModal();

                        modelManage.deleteItem(arrItemId.toString());
                        //关闭遮罩
                        $wrapper.spinModal(false);

                        _table.draw(false);

                    });


                } else {
                    $.dialog.tips('请先选中要操作的行');
                    return;
                }


            });

            $("#btn-simple-search").click(function () {
                modelManage.simpleSearch = true;

                //reload效果与draw(true)或者draw()类似,draw(false)则可在获取新数据的同时停留在当前页码,可自行试验
                //_table.ajax.reload();
                //_table.draw(false);
                _table.draw();
            });

            $("#btn-advanced-search").click(function () {
                modelManage.simpleSearch = false;
                _table.draw();
            });

            $("#btn-save-add").click(function () {

                modelManage.addItemSubmit();
                $('#model-add-modal').modal('hide')

                _table.draw(false);
            });

            $("#btn-save-edit").click(function () {

                modelManage.editItemSubmit();

                setTimeout(function () {
                    $('#model-edit-modal').modal('hide')
                }, 200);

                _table.draw(false);

            });

            //行点击事件
            $("tbody", $table).on("click", "tr", function (event) {
                $(this).addClass("active").siblings().removeClass("active");
                //获取该行对应的数据
                var item = _table.row($(this).closest('tr')).data();
                modelManage.currentItem = item;
                modelManage.showItemDetail(item);
            });

            $table.on("change", ":checkbox", function () {
                if ($(this).is("[name='cb-check-all']")) {
                    //全选
                    $(":checkbox", $table).prop("checked", $(this).prop("checked"));
                } else {
                    //一般复选
                    var checkbox = $("tbody :checkbox", $table);
                    $(":checkbox[name='cb-check-all']", $table).prop('checked', checkbox.length == checkbox.filter(':checked').length);
                }
            }).on("click", ".td-checkbox", function (event) {
                //点击单元格即点击复选框
                !$(event.target).is(":checkbox") && $(":checkbox", this).trigger("click");
            }).on("click", ".btn-view", function () {
                //点击查看按钮
                var item = _table.row($(this).closest('tr')).data();
                $(this).closest('tr').addClass("active").siblings().removeClass("active");
                modelManage.currentItem = item;
                modelManage.showItemDetail(item);
            }).on("click", ".btn-edit", function () {
                //点击编辑按钮
                var item = _table.row($(this).closest('tr')).data();
                $(this).closest('tr').addClass("active").siblings().removeClass("active");
                modelManage.currentItem = item;
                modelManage.editItemInit(item);
            }).on("click", ".btn-del", function () {

                //点击删除按钮
                var item = _table.row($(this).closest('tr')).data();
                $(this).closest('tr').addClass("active").siblings().removeClass("active");

                /***/
                message = "确定要删除 '" + item.name + "' 吗?";

                $.dialog.confirmDanger(message, function () {

                    $wrapper.spinModal();

                    modelManage.deleteItem(item.id);
                    //关闭遮罩
                    $wrapper.spinModal(false);

                    _table.draw(false);

                });
                /***/


            });

            $("#toggle-advanced-search").click(function () {
                $("i", this).toggleClass("fa-angle-double-down fa-angle-double-up");
                $("#div-advanced-search").slideToggle("fast");
            });

            $("#btn-info-content-collapse").click(function () {
                $("i", this).toggleClass("fa-minus fa-plus");
                $("span", this).toggle();
                $("#model-view .info-content").slideToggle("fast");
            });

            $("#btn-view-edit").click(function () {
                modelManage.editItemInit(modelManage.currentItem);
            });

            $(".btn-cancel").click(function () {
                modelManage.showItemDetail(modelManage.currentItem);
            });

        })

    });

//    function getA() {
//        $("#aBody").empty();
//        var $wrapperA = $('#div-table-container-answer');
//        var $tableA = $('#table-model-answer');
//        url_list_a = url_list_a + "/" + modelManage.currentItem.id;
//        var _tableA = $tableA.dataTable($.extend(true, {}, CONSTANT.DATA_TABLES.DEFAULT_OPTION, {
//            "dom": 'rt<"space-4"><"row"<"col-xs-6"i><"col-xs-6"p>><"clear">',
//            "lengthChange": false,//不显示每页xxx项选择框
//            ajax: function (data, callback, settings) {//ajax配置为function,手动调用异步查询
//                //手动控制遮罩
//                $wrapperA.spinModal();
//
//                $.ajax({
//                    type: "POST",
//                    url: url_list_a,
//                    cache: false,	//禁用缓存
//                    dataType: "json",
//                    beforeSend: function (request) {
//                        request.setRequestHeader("Content-Type", "application/json");
//                    },
//                    success: function (result) {
//                        //setTimeout仅为测试遮罩效果
//                        setTimeout(function () {
//                            //异常判断与处理
//                            if (result.errorCode) {
//                                $.dialog.alert("查询失败。错误码：" + result.errorCode);
//                                return;
//                            }
//                            //封装返回数据，这里仅演示了修改属性名
//                            var returnData = {};
//                            returnData.draw = data.draw;//这里直接自行返回了draw计数器,应该由后台返回
//                            returnData.recordsTotal = result.totalElements;
//                            returnData.recordsFiltered = result.totalElements;//后台不实现过滤功能，每次查询均视作全部结果
//                            returnData.data = result.content;
//                            //关闭遮罩
//                            $wrapperA.spinModal(false);
//                            console.log(result.content);
//                            var obj = eval(result.content);
//                            $(obj).each(function (index) {
//                                var val = obj[index];
//                                console.log(val.answerDetail);
//                            }, 200);
//                            //调用DataTables提供的callback方法，代表数据已封装完成并传回DataTables进行渲染
//                            //此时的数据需确保正确无误，异常判断应在执行此回调前自行处理完毕
//                            callback(returnData);
//                        }, 200);
//
//
//                    },
//                    error: function (XMLHttpRequest, textStatus, errorThrown) {
//                        $.dialog.alert("查询失败");
//                        $wrapperA.spinModal(false);
//                    }
//                });
//            },
//            columns: [
//                CONSTANT.DATA_TABLES.COLUMN.CHECKBOX
//                , {
//                    className: "ellipsis",	//文字过长时用省略号显示，CSS实现
//                    data: "id",
//                    "visible": false,
//                    orderable: false,
//                    render: CONSTANT.DATA_TABLES.RENDER.ELLIPSIS//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
//                    //,width : "80px"
//                    //,render : function(data,type, row, meta) {return '<i class="fa fa-male"></i> '+(data?"启用":"禁用");}
//                }, {
//                    className: "ellipsis",	//文字过长时用省略号显示，CSS实现
//                    data: "answerer",
//                    "visible": true,
//                    orderable: false,
//                    render: CONSTANT.DATA_TABLES.RENDER.ELLIPSIS//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
//                    //,width : "80px"
//                    //,render : function(data,type, row, meta) {return '<i class="fa fa-male"></i> '+(data?"启用":"禁用");}
//                }, {
//                    className: "ellipsis",	//文字过长时用省略号显示，CSS实现
//                    data: "vote",
//                    "visible": true,
//                    orderable: false,
//                    render: CONSTANT.DATA_TABLES.RENDER.ELLIPSIS//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
//                    //,width : "80px"
//                    //,render : function(data,type, row, meta) {return '<i class="fa fa-male"></i> '+(data?"启用":"禁用");}
//                }
//            ],
//            "createdRow": function (row, data, index) {
//                //行渲染回调,在这里可以对该行dom元素进行任何操作
//
//                //给当前行加样式
//                if (data.role) {
//                    $(row).addClass("info");
//                }
//
//                //给当前行某列加样式
//                $('td', row).eq(5).addClass(data.usable ? "text-success" : "text-error");
//
//            },
//            "drawCallback": function (settings) {
//                //渲染完毕后的回调
//                //清空全选状态
//                $(":checkbox[name='cb-check-all']", $wrapperA).prop('checked', false);
//                //默认选中第一行
//                $("tbody tr", $tableA).eq(0).click();
//            }
//        })).api();//此处需调用api()方法,否则返回的是JQuery对象而不是DataTables的API对象
//    }
</script>
